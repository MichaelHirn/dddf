## API Report File for "dddf"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import * as AWS_2 from 'aws-sdk';
import { parseDomain } from 'parse-domain';
import * as Rx from 'rxjs';

// @public (undocumented)
export abstract class AggregateRoot<T> extends Entity<T> {
}

// @public (undocumented)
export type CacheControlActions = 'refresh' | 'revalidate' | 'nothing';

// @public (undocumented)
export enum CacheControlAge {
    // (undocumented)
    DAY = 86400,
    // (undocumented)
    ETERNAL,
    // (undocumented)
    HOUR = 3600,
    // (undocumented)
    MINUTE = 60,
    // (undocumented)
    MONTH = 2592000,
    // (undocumented)
    QUARTER = 7776000,
    // (undocumented)
    SECOND = 1,
    // (undocumented)
    WEEK = 604800,
    // (undocumented)
    YEAR = 31536000
}

// @beta
export class CacheControlEntity extends Entity<CacheControlProps> {
    // (undocumented)
    static asImmutableCache(maxAge: number, subjectId: string): Result<CacheControlEntity>;
    // (undocumented)
    static asMutableCacheNotStrict(maxAge: number, subjectId: string): Result<CacheControlEntity>;
    // (undocumented)
    static asMutableCacheStrict(maxAge: number, subjectId: string): Result<CacheControlEntity>;
    // (undocumented)
    static asNoCache(maxAge: number, subjectId: string): Result<CacheControlEntity>;
    // (undocumented)
    doCache(): boolean;
    // (undocumented)
    doNotCache(): boolean;
    // (undocumented)
    static from(props: CacheControlProps): Result<CacheControlEntity>;
    // (undocumented)
    isExpired(startDate: Date, nowDate?: Date): boolean;
    // (undocumented)
    isMustRevalidate(): boolean;
    // (undocumented)
    isNoCache(): boolean;
    // (undocumented)
    isNoStore(): boolean;
    // (undocumented)
    maxAge(): number;
    // (undocumented)
    mustDoWhat(startDate: Date, nowDate?: Date): CacheControlActions;
    // (undocumented)
    mustRefresh(startDate: Date, nowDate?: Date): boolean;
    // (undocumented)
    mustRevalidate(startDate: Date, nowDate?: Date): boolean;
    // (undocumented)
    subjectId(): string;
}

// @public (undocumented)
export interface CacheControlProps {
    maxAge: number;
    // (undocumented)
    mustRevalidate: boolean;
    // (undocumented)
    noCache: boolean;
    // (undocumented)
    noStore: boolean;
    subjectId: string;
}

// @alpha
export class CacheRepo<T extends Entity<any>, V extends string | Date> implements IRepo<T> {
    constructor(config: ICacheRepoConfig<T, V>);
    // (undocumented)
    protected readonly cacheRepo: IRepoVersionAwareCurrent<T, V>;
    // (undocumented)
    protected readonly dataRepo: IRepoVersionAwareNewer<T, V>;
    // (undocumented)
    load(key: string, config: CacheRepoMethodConfig): Promise<Result<T>>;
    // (undocumented)
    remove(key: string, config: CacheRepoMethodConfig): Promise<Result<void>>;
    // (undocumented)
    save(domainObject: T, config: CacheRepoMethodConfig): Promise<Result<void>>;
}

// @public (undocumented)
export interface CacheRepoMethodConfig {
    // Warning: (ae-incompatible-release-tags) The symbol "cacheControl" is marked as @public, but its signature references "CacheControlEntity" which is marked as @beta
    //
    // (undocumented)
    cacheControl?: CacheControlEntity;
    // (undocumented)
    cacheRepo: any;
    // (undocumented)
    dataRepo: any;
}

// @public (undocumented)
export abstract class DynamoRepo<T extends Entity<any>, U extends IDynamoRepoConfig = IDynamoRepoConfig> implements IRepo<T> {
    constructor(config: U);
    // (undocumented)
    protected static addMissingKeys<T>(keys: string[], map: Map<string, Result<T>>): Map<string, Result<T>>;
    // (undocumented)
    protected db: AWS_2.DynamoDB;
    // (undocumented)
    abstract deserialize(dynamoItem: any): Result<T>;
    // (undocumented)
    generateDeleteBatchParams(keys: string[]): SaveBatcheParams;
    // Warning: (ae-forgotten-export) The symbol "LoadBatchParams" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    generateLoadBatchParams(keys: string[]): LoadBatchParams;
    // Warning: (ae-forgotten-export) The symbol "QueryParams" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected generateQueryParams(queryParams: Partial<QueryParams>): QueryParams;
    // Warning: (ae-forgotten-export) The symbol "SaveBatcheParams" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    generateSaveBatchParams(objects: T[]): SaveBatcheParams;
    // Warning: (ae-forgotten-export) The symbol "ScanParams" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected generateScanParams(scanParams: Partial<ScanParams>): ScanParams;
    // (undocumented)
    load(key: string): Promise<Result<T>>;
    // (undocumented)
    loadAll(concurrency?: number): Rx.Observable<T>;
    // (undocumented)
    loadBatch(keys: string[]): Promise<Result<Map<string, Result<T>>>>;
    // (undocumented)
    model: AWS_2.DynamoDB.DocumentClient;
    // Warning: (ae-forgotten-export) The symbol "ParallelScanResponse" needs to be exported by the entry point index.d.ts
    _parallelScan(concurrency: number, scanParams?: Partial<ScanParams>): Rx.Observable<ParallelScanResponse>;
    // (undocumented)
    query(queryParams: Partial<QueryParams>): Rx.Observable<T>;
    // Warning: (ae-forgotten-export) The symbol "ParallelQueryResponse" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected _query(queryParams: Partial<QueryParams>): Rx.Observable<ParallelQueryResponse>;
    // (undocumented)
    remove(key: string): Promise<Result<void>>;
    // (undocumented)
    removeBatch(keys: string[]): Promise<Result<void>>;
    // (undocumented)
    save(object: T): Promise<Result<void>>;
    // (undocumented)
    saveBatch(objects: T[]): Promise<Result<void>>;
    // (undocumented)
    scan(startKey?: {
        [index: string]: string | number;
    }): Promise<Result<T[]>>;
    // (undocumented)
    protected _scan(scanParams: Partial<ScanParams>): Rx.Observable<ParallelScanResponse>;
    // (undocumented)
    abstract serialize(object: T): Result<any>;
    // (undocumented)
    readonly tableName: string;
    abstract toPrimaryKeyAttribute(input: any): object;
}

// @public (undocumented)
export abstract class Entity<T, U extends string = string> {
    constructor(props: T, id: U);
    // (undocumented)
    equals(object?: Entity<T>): boolean;
    // (undocumented)
    get id(): U;
    // (undocumented)
    protected readonly _id: U;
    // (undocumented)
    protected props: T;
}

// @public (undocumented)
export interface ICacheRepoConfig<T extends Entity<any>, V extends string | Date> {
    cacheRepo: IRepoVersionAwareCurrent<T, V>;
    dataRepo: IRepoVersionAwareNewer<T, V>;
}

// @beta
export class IdentifierURN extends ValueObject<IdentifierURNProps> {
    // (undocumented)
    static from(namestring: string): Result<IdentifierURN>;
    // (undocumented)
    namestring(): string;
    // (undocumented)
    nid(): IdentifierURNProps['nid'];
    // (undocumented)
    nss(): IdentifierURNProps['nss'];
}

// @public (undocumented)
export const IdentifierURNMapper: {
    serialize: (identifier: IdentifierURN) => string;
    deserialize: (namestring: string) => Result<IdentifierURN>;
};

// @public (undocumented)
export interface IdentifierURNProps {
    // (undocumented)
    nid: string;
    // (undocumented)
    nss: string[];
}

// @public (undocumented)
export interface IDynamoRepoConfig {
    // (undocumented)
    model: AWS_2.DynamoDB;
    // (undocumented)
    tableName: string;
}

// @public (undocumented)
export interface IRepo<T extends Entity<any>, R = void> {
    // (undocumented)
    load: (t: string, args: any) => Promise<Result<T>>;
    // (undocumented)
    remove: (t: string, args: any) => Promise<Result<R>>;
    // (undocumented)
    save: (t: T, args: any) => Promise<Result<R>>;
}

// @public (undocumented)
export interface IRepoLoadIfNewerVersionExistsResultBody<T extends Entity<any>> {
    // (undocumented)
    newerVersionExists: boolean;
    // (undocumented)
    newestVersion?: T;
}

// @public (undocumented)
export interface IRepoLoadWithVersionResultBody<T extends Entity<any>, V extends string | Date> {
    // (undocumented)
    createdAt: Date;
    // (undocumented)
    entity: T;
    // (undocumented)
    version: V;
}

// @public (undocumented)
export interface IRepoVersionAwareCurrent<T extends Entity<any>, V extends string | Date, R = void> extends IRepo<T, R> {
    loadWithVersion: (t: string, args: any) => Promise<Result<IRepoLoadWithVersionResultBody<T, V>>>;
}

// @public (undocumented)
export interface IRepoVersionAwareNewer<T extends Entity<any>, V extends string | Date, R = void> extends IRepo<T, R> {
    loadIfNewerVersionExists: (t: string, currentVersion: V, args: any) => Promise<Result<IRepoLoadIfNewerVersionExistsResultBody<T>>>;
}

// @public (undocumented)
export interface IS3RepoConfig {
    bucketName: string;
    model: AWS_2.S3;
    objectPrefix?: string;
}

// @public (undocumented)
export class JsonS3Repo extends S3Repo<any> {
    // (undocumented)
    deserialize(jsonString: string): Result<any>;
    // (undocumented)
    serialize(plainJsonObject: any): Result<string>;
}

// @public (undocumented)
export interface Mapper<T, U> {
    // (undocumented)
    deserialize: (value: U) => T;
    // (undocumented)
    serialize: (domain: T) => U;
}

// @public (undocumented)
export class Result<T> {
    // (undocumented)
    static combine(results: Array<Result<any>>): Result<any>;
    // (undocumented)
    error: Error;
    // (undocumented)
    static fail<U>(error: Error): Result<U>;
    // (undocumented)
    isFailure: boolean;
    // (undocumented)
    isSuccess: boolean;
    // (undocumented)
    static ok<U>(value?: U): Result<U>;
    // Warning: (ae-forgotten-export) The symbol "SerializedResult" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    toJson(): SerializedResult<T>;
    // (undocumented)
    unwrap(): T;
}

// @public (undocumented)
export abstract class S3Repo<T extends Entity<any>, R = void, U extends IS3RepoConfig = IS3RepoConfig> implements IRepo<T, R> {
    constructor(config: U);
    // (undocumented)
    protected static addMissingKeys<T>(keys: string[], map: Map<string, Result<T>>): Map<string, Result<T>>;
    // (undocumented)
    readonly bucketName: string;
    // Warning: (ae-forgotten-export) The symbol "RemoveResponse" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected deleteObject(key: string, partialParams?: Partial<RemoveParams>): Promise<Result<RemoveResponse>>;
    // (undocumented)
    abstract deserialize(data: string): Result<T>;
    // Warning: (ae-forgotten-export) The symbol "ListObjectsParams" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected getListParams(params?: Partial<ListObjectsParams>): ListObjectsParams;
    // Warning: (ae-forgotten-export) The symbol "ListVersionsParams" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected getListVersionsParams(params?: Partial<ListVersionsParams>): Result<ListVersionsParams>;
    // Warning: (ae-forgotten-export) The symbol "LoadParams" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected getLoadParams(key: string, params?: Partial<LoadParams>): Result<LoadParams>;
    // Warning: (ae-forgotten-export) The symbol "LoadResponse" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected getObject(key: string, partialParams?: Partial<LoadParams>): Promise<Result<LoadResponse>>;
    // Warning: (ae-forgotten-export) The symbol "ListVersionsResponse" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    getObjectVersions(key: string): Promise<ListVersionsResponse['Versions']>;
    // Warning: (ae-forgotten-export) The symbol "RemoveParams" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected getRemoveParams(key: string, params?: Partial<RemoveParams>): Result<RemoveParams>;
    // Warning: (ae-forgotten-export) The symbol "SaveParams" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected getSaveParams(key: string, body: string, params?: Partial<SaveParams>): Result<SaveParams>;
    // (undocumented)
    listAllObjectKeys(partialParams?: Partial<ListObjectsParams>): Rx.Observable<string>;
    // (undocumented)
    listAllObjects(partialParams?: Partial<ListObjectsParams>): Rx.Observable<AWS_2.S3.ObjectList[0]>;
    // (undocumented)
    listAllObjectVersions(partialParams?: Partial<ListVersionsParams>): Rx.Observable<AWS_2.S3.ObjectVersionList[0]>;
    // Warning: (ae-forgotten-export) The symbol "ListObjectsResponse" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    listObjects(partialParams?: Partial<ListObjectsParams>): Promise<Result<ListObjectsResponse>>;
    // (undocumented)
    listObjectVersions(partialParams: Partial<ListVersionsParams>): Promise<Result<ListVersionsResponse>>;
    // (undocumented)
    load(key: string, partialParams?: Partial<LoadParams>): Promise<Result<T>>;
    // (undocumented)
    loadAll(): Rx.Observable<T>;
    // (undocumented)
    loadBatch(keys: string[], partialParams?: Partial<LoadParams>): Promise<Result<Map<string, Result<T>>>>;
    // (undocumented)
    model: AWS_2.S3;
    // (undocumented)
    readonly objectPrefix: string;
    // Warning: (ae-forgotten-export) The symbol "SaveResponse" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected putObject(key: string, body: string, partialParams?: Partial<SaveParams>): Promise<Result<SaveResponse>>;
    // (undocumented)
    remove(key: string, partialParams?: Partial<RemoveParams>): Promise<Result<R>>;
    // (undocumented)
    save(object: T, partialParams?: Partial<SaveParams>): Promise<Result<R>>;
    // (undocumented)
    saveBatch(objects: T[], partialParams?: Partial<SaveParams>): Promise<Result<R>>;
    // (undocumented)
    abstract serialize(object: T): Result<string>;
}

// @public
export class UrlService {
    static isDomain(domain: string): boolean;
    static isListedDomain(domain: string): boolean;
    static isUrl(url: string): boolean;
    // (undocumented)
    static toDomain(url: string): ReturnType<typeof parseDomain>;
    // (undocumented)
    static toUrl(url: string): URL;
}

// Warning: (ae-forgotten-export) The symbol "ValueObjectProps" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export abstract class ValueObject<T extends ValueObjectProps> {
    constructor(props: T);
    // (undocumented)
    equals(vo?: ValueObject<T>): boolean;
    // (undocumented)
    protected readonly props: T;
    // (undocumented)
    protected static toObject<T, U>(Construct: (U: any) => T | Result<T>, object: U, objectName: string): Result<T>;
    // (undocumented)
    protected static toObjects<T>(Construct: (any: any) => T, objects: object[], objectName: string): Result<T[]>;
    // (undocumented)
    protected static toResultNumber(input: number, name: string): Result<number>;
    // (undocumented)
    protected static toResultString(string: string, name: string): Result<string>;
    // (undocumented)
    protected static toResultStringMap(data: any, name: string): Result<Map<string, string>>;
    // (undocumented)
    protected static toResultStrings(strings: string[], name: string): Result<string[]>;
}

// Warnings were encountered during analysis:
//
// src/identifierURN.ts:49:33 - (ae-incompatible-release-tags) The symbol "serialize" is marked as @public, but its signature references "IdentifierURN" which is marked as @beta
// src/identifierURN.ts:51:1 - (ae-incompatible-release-tags) The symbol "deserialize" is marked as @public, but its signature references "IdentifierURN" which is marked as @beta

// (No @packageDocumentation comment for this package)

```
